<!DOCTYPE html>
<html lang="ru">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="theme-color" content="#ffffff" />
    <title>ДПТ Навыки</title>
    <link rel="manifest" href="manifest.json" />
    <link
      rel="icon"
      type="image/png"
      sizes="32x32"
      href="icons/icon-192x192.png"
    />
    <link
      rel="icon"
      type="image/png"
      sizes="16x16"
      href="icons/icon-192x192.png"
    />
    <link rel="shortcut icon" href="icons/icon-192x192.png" />
    <link rel="apple-touch-icon" href="icons/icon-192x192.png" />
    <link rel="stylesheet" href="styles/main.css" />
    <link
      href="https://cdn.jsdelivr.net/npm/remixicon@3.5.0/fonts/remixicon.css"
      rel="stylesheet"
    />
  </head>
  <body>
    <header class="glass-header">
      <h1 class="app-title">А вдруг это работает?</h1>
    </header>
    <nav class="main-nav">
      <ul>
        <li>
          <a href="#theory" class="active">
            <i class="ri-book-read-line"></i>
            <span>Теория</span>
          </a>
        </li>
        <li>
          <a href="#practice">
            <i class="ri-compass-3-line"></i>
            <span>Практика</span>
          </a>
        </li>
        <li>
          <a href="#diary">
            <i class="ri-draft-line"></i>
            <span>Дневник</span>
          </a>
        </li>
        <li>
          <a href="#settings">
            <i class="ri-settings-4-line"></i>
            <span>Настройки</span>
          </a>
        </li>
      </ul>
    </nav>

    <main>
      <section id="theory" class="page active">
        <h1>Теория ДПТ</h1>
        <div class="axioms-list"></div>
        <div class="blocks-container"></div>
      </section>

      <section id="practice" class="page">
        <h1>Практика</h1>
        <p>Раздел практических упражнений и заданий.</p>
      </section>

      <section id="diary" class="page">
        <h1>Дневник</h1>
        <div class="behavior-cards">
          <div class="behavior-card">
            <h3>Прекращение терапии</h3>
          </div>
          <div class="behavior-card">
            <h3>Употребление алкоголя</h3>
          </div>
          <div class="behavior-card">
            <h3>Самоповреждения</h3>
          </div>
        </div>

        <button class="add-behavior-button">
          <i class="ri-add-line"></i>
        </button>

        <!-- Модальное окно для добавления поведения -->
        <div class="modal" id="addBehaviorModal">
          <div class="modal-content">
            <h2>Добавить проблемное поведение</h2>
            <input 
              type="text" 
              id="behaviorInput" 
              placeholder="Введите название"
              maxlength="100"
            >
            <div class="modal-buttons">
              <button class="cancel-button">Отмена</button>
              <button class="save-button">Сохранить</button>
            </div>
          </div>
        </div>
      </section>

      <section id="settings" class="page">
        <h1>Настройки</h1>

        <div class="settings-section">
          <h2>Отображение</h2>
          <div class="setting-item">
            <label class="switch-label">
              <span>Показывать допущения</span>
              <label class="switch">
                <input type="checkbox" id="show-assumptions" checked />
                <span class="slider"></span>
              </label>
            </label>
          </div>
        </div>

        <div class="settings-section">
          <h2>Установка приложения</h2>
          <div class="pwa-instructions">
            <p>
              Это приложение можно установить на ваше устройство для быстрого
              доступа:
            </p>
            <h3>iOS (Safari)</h3>
            <ol>
              <li>Нажмите кнопку «Share»</li>
              <li>Выберите «Add to Home Screen»</li>
              <li>Нажмите «Add»</li>
            </ol>
            <h3>Android (Chrome)</h3>
            <ol>
              <li>Нажмите на три точки в меню</li>
              <li>Выберите «Install app»</li>
              <li>Нажмите «Install»</li>
            </ol>
          </div>
        </div>

        <div class="settings-section">
          <h2>О приложении</h2>
          <div class="app-info">
            <p>Это приложение разработано с учетом вашей приватности:</p>
            <ul>
              <li>
                Все ваши данные хранятся только локально на вашем устройстве
              </li>
              <li>Приложение работает без подключения к интернету</li>
              <li>Никакие данные не отправляются на сервер</li>
              <li>
                Доступ к данным осуществляется через Service Worker, который
                обеспечивает безопасное локальное хранение
              </li>
              <li>
                Исходный код приложения полностью открыт и доступен для проверки
                на GitHub
              </li>
            </ul>
            <p class="warning">
              ⚠️ Важно: поскольку все данные хранятся локально на вашем
              устройстве, их невозможно будет восстановить при потере доступа к
              устройству или его очистке. Рекомендуем периодически делать
              резервные копии важной информации.
            </p>
          </div>
          <div class="about-links">
            <div class="link-item">
              <svg class="link-icon" viewBox="0 0 24 24" width="24" height="24">
                <path
                  fill="currentColor"
                  d="M12 0C5.37 0 0 5.37 0 12c0 5.31 3.435 9.795 8.205 11.385.6.105.825-.255.825-.57 0-.285-.015-1.23-.015-2.235-3.015.555-3.795-.735-4.035-1.41-.135-.345-.72-1.41-1.23-1.695-.42-.225-1.02-.78-.015-.795.945-.015 1.62.87 1.845 1.23 1.08 1.815 2.805 1.305 3.495.99.105-.78.42-1.305.765-1.605-2.67-.3-5.46-1.335-5.46-5.925 0-1.305.465-2.385 1.23-3.225-.12-.3-.54-1.53.12-3.18 0 0 1.005-.315 3.3 1.23.96-.27 1.98-.405 3-.405s2.04.135 3 .405c2.295-1.56 3.3-1.23 3.3-1.23.66 1.65.24 2.88.12 3.18.765.84 1.23 1.905 1.23 3.225 0 4.605-2.805 5.625-5.475 5.925.435.375.81 1.095.81 2.22 0 1.605-.015 2.895-.015 3.3 0 .315.225.69.825.57A12.02 12.02 0 0024 12c0-6.63-5.37-12-12-12z"
                />
              </svg>
              <a
                href="https://github.com/mitenka/skills"
                target="_blank"
                rel="noopener"
                >Исходный код на GitHub</a
              >
            </div>
            <div class="link-item">
              <svg class="link-icon" viewBox="0 0 24 24" width="24" height="24">
                <path
                  fill="currentColor"
                  d="M11.944 0A12 12 0 0 0 0 12a12 12 0 0 0 12 12 12 12 0 0 0 12-12A12 12 0 0 0 12 0a12 12 0 0 0-.056 0zm4.962 7.224c.1-.002.321.023.465.14a.506.506 0 0 1 .171.325c.016.093.036.306.02.472-.18 1.898-.962 6.502-1.36 8.627-.168.9-.499 1.201-.82 1.23-.696.065-1.225-.46-1.9-.902-1.056-.693-1.653-1.124-2.678-1.8-1.185-.78-.417-1.21.258-1.91.177-.184 3.247-2.977 3.307-3.23.007-.032.014-.15-.056-.212s-.174-.041-.249-.024c-.106.024-1.793 1.14-5.061 3.345-.48.33-.913.49-1.302.48-.428-.008-1.252-.241-1.865-.44-.752-.245-1.349-.374-1.297-.789.027-.216.325-.437.893-.663 3.498-1.524 5.83-2.529 6.998-3.014 3.332-1.386 4.025-1.627 4.476-1.635z"
                />
              </svg>
              <a href="https://t.me/mitenka" target="_blank" rel="noopener"
                >Связаться в Telegram</a
              >
            </div>
          </div>
        </div>
      </section>
    </main>

    <script src="https://unpkg.com/dexie@latest/dist/modern/dexie.min.mjs" type="module"></script>
    <script src="js/app.js" type="module"></script>
    <script>
      if ("serviceWorker" in navigator) {
        navigator.serviceWorker
          .register("/service-worker.js")
          .then((registration) => console.log("ServiceWorker registered"))
          .catch((error) =>
            console.log("ServiceWorker registration failed:", error)
          );
      }
    </script>
  </body>
</html>
